(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-803220a8"],{6745:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vx-col w-full mb-base",attrs:{id:"big-parent"}},[s("vx-card",{attrs:{title:t.$t("screening_symptom_list")}},[s("vs-tabs",[s("vs-tab",{attrs:{label:t.$t("screening_view")}},[s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"12"}},[s("vs-table",{staticClass:"w-full",attrs:{stripe:!0,search:"",pagination:"","max-items":"10",data:t.screening_data},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return t._l(i,function(e,i){return s("vs-tr",{key:i},[s("vs-td",{attrs:{data:e.operating_id}},[t._v(t._s(e.operating_id))]),s("vs-td",{attrs:{data:e.reported_time}},[t._v(t._s(e.reported_time))]),s("vs-td",{attrs:{data:e.receiver_name}},[t._v(t._s(e.receiver_name))]),s("vs-td",{attrs:{data:e.location_name}},[t._v(t._s(e.location_name))]),s("vs-td",{attrs:{data:e.basic_illness}},[t._v(t._s(e.basic_illness))]),s("vs-td",{attrs:{data:e.symptom}},[s("vs-row",{attrs:{"vs-w":"12"}},[s("div",{staticClass:"h-4 w-4 rounded-full mt-1 mr-2",class:e.screening_color}),t._v("\n                      "+t._s(e.screening_id)+" "+t._s(e.level_text)+" "+t._s(e.screening_no)+" "+t._s(e.symptom)+"\n                    ")])],1),s("vs-td",[s("feather-icon",{staticClass:"cursor-pointer w-6 h-6",attrs:{icon:"EditIcon",size:"small"},on:{click:function(s){t.editscreeningActive=!0,t.geteditdata(e)}}})],1),s("vs-popup",{attrs:{fullscreen:"",title:t.$t("edit_screening_symptom"),active:t.editscreeningActive},on:{"update:active":function(e){t.editscreeningActive=e}}},[s("vs-row",{attrs:{"vs-w":"12"}},[s("h5",{staticClass:"ml-3"},[t._v(t._s(t.$t("patient_infomation")))])]),s("vs-divider"),s("vs-row",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-type":"flex","vs-lg":"2","vs-sm":"6","vs-justify":"center"}},[s("label",[t._v(t._s(t.$t("name")))])]),s("vs-col",{attrs:{"vs-lg":"4","vs-sm":"6"}},[s("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:t.patient_fullname,callback:function(e){t.patient_fullname=e},expression:"patient_fullname"}})],1),s("vs-col",{attrs:{"vs-lg":"2","vs-sm":"6","vs-type":"flex","vs-justify":"center"}},[s("label",[t._v(t._s(t.$t("reporter_tel")))])]),s("vs-col",{attrs:{"vs-lg":"4","vs-sm":"6"}},[s("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:e.reporter_tel,callback:function(s){t.$set(e,"reporter_tel",s)},expression:"tr.reporter_tel"}})],1)],1),s("vs-row",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"2","vs-sm":"6","vs-type":"flex","vs-justify":"center"}},[s("label",[t._v(t._s(t.$t("location_name")))])]),s("vs-col",{attrs:{"vs-lg":"4","vs-sm":"6"}},[s("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:e.location_name,callback:function(s){t.$set(e,"location_name",s)},expression:"tr.location_name"}})],1),s("vs-col",{attrs:{"vs-lg":"2","vs-sm":"6","vs-type":"flex","vs-justify":"center"}},[s("label",[t._v(t._s(t.$t("place_detail")))])]),s("vs-col",{attrs:{"vs-lg":"4","vs-sm":"6"}},[s("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:e.place_detail,callback:function(s){t.$set(e,"place_detail",s)},expression:"tr.place_detail"}})],1)],1),s("vs-row",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"2","vs-sm":"6","vs-type":"flex","vs-justify":"center"}},[s("label",[t._v(t._s(t.$t("patient_gender")))])]),s("vs-col",{attrs:{"vs-lg":"4","vs-sm":"6"}},[s("vs-select",{staticClass:"w-full",attrs:{disabled:""},model:{value:e.patient_gender,callback:function(s){t.$set(e,"patient_gender",s)},expression:"tr.patient_gender"}},[s("vs-select-item",{attrs:{value:1,text:t.$t("male")}}),s("vs-select-item",{attrs:{value:2,text:t.$t("female")}})],1)],1),s("vs-col",{attrs:{"vs-lg":"2","vs-sm":"6","vs-type":"flex","vs-justify":"center"}},[s("label",[t._v(t._s(t.$t("age")))])]),s("vs-col",{attrs:{"vs-lg":"4","vs-sm":"6"}},[s("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:e.patient_age,callback:function(s){t.$set(e,"patient_age",s)},expression:"tr.patient_age"}})],1)],1),s("vs-row",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"2","vs-sm":"6","vs-type":"flex","vs-justify":"center"}},[s("label",[t._v(t._s(t.$t("basic_illness")))])]),s("vs-col",{attrs:{"vs-lg":"8","vs-sm":"6"}},[s("vs-textarea",{attrs:{disabled:""},model:{value:e.basic_illness,callback:function(s){t.$set(e,"basic_illness",s)},expression:"tr.basic_illness"}})],1)],1),s("vs-divider"),s("vs-row",{attrs:{"vs-w":"12"}},[s("h5",{staticClass:"ml-3"},[t._v(t._s(t.$t("screening_symptom_form")))])]),s("vs-row",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"4","vs-sm":"6","vs-type":"flex","vs-justify":"center"}},[s("label",[t._v(t._s(t.$t("select_main_symptom")))])]),s("vs-col",{attrs:{"vs-lg":"8","vs-sm":"6"}},[s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-select",{staticClass:"w-full",attrs:{danger:t.invalid_edit_main_symptom_filter},model:{value:t.edit_main_symptom,callback:function(e){t.edit_main_symptom=e},expression:"edit_main_symptom"}},t._l(t.main_symptom_list,function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.screening_id,text:t.screening_name}})}),1),t.invalid_edit_main_symptom_filter?s("div",{staticClass:"error"},[t._v(t._s(t.$t("edit_main_symptom_alert")))]):t._e()],1)],1)],1),s("vs-divider"),s("h5",{staticClass:"ml-3"},[t._v(t._s(t.$t("question_for_main_symptom")))]),s("vs-row",{staticClass:"mt-4",attrs:{"vs-w":"12"}},[t.red_question?s("vs-col",{attrs:{"vs-lg":"6","vs-sm":"12"}},[s("vx-card",{staticClass:"mt-2",attrs:{title:t.$t("red_question"),"title-color":"#fff","card-background":"#d4170d","content-color":"#fff"}},[s("p",{staticClass:"mb-3",domProps:{innerHTML:t._s(t.red_question)}})])],1):t._e(),t.yellow_question?s("vs-col",{attrs:{"vs-lg":"6","vs-sm":"12"}},[s("vx-card",{staticClass:"mt-2",attrs:{title:t.$t("yellow_question"),"title-color":"#fff","card-background":"#d4d10d","content-color":"#fff"}},[s("p",{staticClass:"mb-3",domProps:{innerHTML:t._s(t.yellow_question)}})])],1):t._e(),t.green_question?s("vs-col",{attrs:{"vs-lg":"6","vs-sm":"12"}},[s("vx-card",{staticClass:"mt-2",attrs:{title:t.$t("green_question"),"title-color":"#fff","card-background":"#117509","content-color":"#fff"}},[s("p",{staticClass:"mb-3",domProps:{innerHTML:t._s(t.green_question)}})])],1):t._e(),t.white_question?s("vs-col",{attrs:{"vs-lg":"6","vs-sm":"12"}},[s("vx-card",{staticClass:"mt-2",attrs:{title:t.$t("white_question"),"title-color":"#000","card-background":"#fff","content-color":"#000"}},[s("p",{staticClass:"mb-3",domProps:{innerHTML:t._s(t.white_question)}})])],1):t._e(),t.black_question?s("vs-col",{attrs:{"vs-lg":"6","vs-sm":"12"}},[s("vx-card",{staticClass:"mt-2",attrs:{title:t.$t("black_question"),"title-color":"#000","card-background":"#fff","content-color":"#000"}},[s("p",{staticClass:"mb-3",domProps:{innerHTML:t._s(t.black_question)}})])],1):t._e()],1),t.invalid_edit_main_symptom_filter?t._e():[s("vs-divider"),t.invalid_edit_main_symptom_filter?t._e():s("vs-row",{staticClass:"mt-5",attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"2","vs-sm":"4"}},[s("label",[t._v(t._s(t.$t("screening_symptom_filter")))])]),s("vs-col",{attrs:{"vs-lg":"10","vs-sm":"8"}},[s("vs-select",{staticClass:"w-full",attrs:{danger:t.invalid_screening_symptom_filter,disabled:0==t.edit_symptom_list.length},model:{value:t.edit_symptom,callback:function(e){t.edit_symptom=e},expression:"edit_symptom"}},t._l(t.edit_symptom_list,function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})}),1),t.invalid_screening_symptom_filter?s("div",{staticClass:"error"},[t._v(t._s(t.$t("screening_symptom_filter_alert")))]):t._e()],1)],1),t.invalid_edit_main_symptom_filter?t._e():s("vs-row",{staticClass:"mt-3",attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"2","vs-sm":"4"}},[s("label",[t._v(t._s(t.$t("other_symptom")))])]),s("vs-col",{attrs:{"vs-lg":"10","vs-sm":"8"}},[s("vs-input",{staticClass:"w-full",model:{value:t.edit_other_symptom,callback:function(e){t.edit_other_symptom=e},expression:"edit_other_symptom"}})],1)],1),s("vs-divider"),t.invalid_edit_main_symptom_filter?t._e():s("vs-row",{staticClass:"mt-3",attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-lg":"2","vs-sm":"4"}},[s("label",[t._v(t._s(t.$t("recommend_command")))])]),s("vs-col",{attrs:{"vs-lg":"10","vs-sm":"8"}},[s("vx-card",{staticClass:"mt-2",attrs:{"card-background":"#d1d1d1","content-color":"#000"}},[s("p",{staticClass:"mb-3",domProps:{innerHTML:t._s(t.recommend_command)}})])],1)],1),s("vs-divider"),s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-button",{staticClass:"vs-con__container",attrs:{color:"success",type:"filled"},on:{click:t.update_screening_symptom}},[t._v(t._s(t.$t("save")))])],1)]],2)],1)})}}])},[s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"operation_id"}},[t._v(t._s(t.$t("operation_id")))]),s("vs-th",{staticStyle:{width:"15%"},attrs:{"sort-key":"reported_time"}},[t._v(t._s(t.$t("reported_time")))]),s("vs-th",{attrs:{"sort-key":"receiver_name"}},[t._v(t._s(t.$t("receiver_name")))]),s("vs-th",{attrs:{"sort-key":"location_name"}},[t._v(t._s(t.$t("location_name")))]),s("vs-th",{attrs:{"sort-key":"basic_illness"}},[t._v(t._s(t.$t("basic_illness")))]),s("vs-th",{staticStyle:{width:"30%"},attrs:{"sort-key":"symtom"}},[t._v(t._s(t.$t("main_symptoms")))]),s("vs-th",[t._v(t._s(t.$t("edit")))])],1)],2)],1)],1)],1)],1)],1)],1)},a=[],n=(s("28a5"),s("6b54"),s("c1df"),s("67cf")),l={components:{},data:function(){return{screening_data:[],editscreeningActive:!1,editdata:{screening_id:null,screening_lv:null,screening_no:null,screening_detail:""},main_symptom_list:[],edit_main_symptom:null,edit_symptom_list:[],patient_fullname:"",edit_symptom:null,red_question:null,yellow_question:null,green_question:null,white_question:null,black_question:null,recommend_command:null,edit_id:null,submitted:!1,edit_other_symptom:""}},computed:{invalid_screening_symptom_filter:function(){return!this.edit_symptom&&this.submitted},invalid_edit_main_symptom_filter:function(){return!this.edit_main_symptom&&this.submitted}},created:function(){var t=this;n["a"].getData("get_emergency_reported").then(function(e){if(e.code)t.$swal({title:$t("connection_error"),type:"error"});else{var s=e.data.map(function(e){switch(e.reported_time=e.reported_date+" "+e.reported_time,e.screening_lv){case 1:e.level_text=t.$t("red"),e.screening_color="bg-danger";break;case 2:e.level_text=t.$t("yellow"),e.screening_color="bg-warning";break;case 3:e.level_text=t.$t("green"),e.screening_color="bg-success";break;case 4:e.level_text=t.$t("white"),e.screening_color="white";break;case 5:e.level_text=t.$t("black"),e.screening_color="black";break;default:e.level_text="",e.screening_color=""}return e});t.screening_data=s}}),n["a"].getData("get_mainsymptom").then(function(e){if(e.code)t.$swal({title:$t("connection_error"),type:"error"});else{var s=e.data;t.main_symptom_list=s}})},methods:{update:function(t){this.edit_main_symptom=t.target.value},geteditdata:function(t){var e=this;this.edit_id=t.emergency_reported_id,this.patient_fullname=t.patient_name+" "+t.patient_surname,this.edit_other_symptom=t.screening_detail,null==t.screening_id?this.edit_main_symptom=null:this.edit_main_symptom=t.screening_id.toString(),this.edit_symptom=t.screening_lv+":"+t.screening_no,n["a"].getData("get_screening_detail?screening_id="+t.screening_id).then(function(t){if(t.code)e.edit_symptom_list=[],e.red_question=null,e.yellow_question=null,e.green_question=null,e.white_question=null,e.black_question=null;else{e.red_question=t.data.red_question,e.yellow_question=t.data.yellow_question,e.green_question=t.data.green_question,e.white_question=t.data.white_question,e.black_question=t.data.black_question;var s=t.data.minor.map(function(t){var s="";switch(t.screening_lv){case 1:s=e.$t("red");break;case 2:s=e.$t("yellow");break;case 3:s=e.$t("green");break;case 4:s=e.$t("white");break;case 5:s=e.$t("black");break;default:s=""}return{value:{screening_lv:t.screening_lv,screening_no:t.screening_no},label:s+t.screening_no+t.symptom}});s.length,e.edit_symptom_list=s}})},update_screening_symptom:function(){var t=this;console.log(this.edit_symptom),this.submitted=!0,this.invalid_screening_symptom_filter||this.invalid_edit_main_symptom_filter||(this.editscreeningActive=!1,this.$swal({title:this.$t("do_you_want_to_update_screening"),type:"question",allowClickOutside:!1,showCancelButton:!0,confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel")}).then(function(e){if(e.value){var s=t.edit_symptom.split(":")[0],i=t.edit_symptom.split(":")[1],a={emergency_reported_id:t.edit_id,screening_id:t.edit_main_symptom,screening_detail:t.edit_other_symptom,screening_lv:s,screening_no:i};n["a"].postData("update_emergency_reported",a).then(function(e){e.code?t.$swal({title:e.message,type:"error"}).then(function(){t.editsymptomActive=!0}):(t.$swal({title:t.$t("complete"),type:"success",timer:1500,showComfirmButton:!1}),setTimeout(function(){t.$router.go()},1500))})}}))}},watch:{edit_main_symptom:function(t){var e=this;n["a"].getData("get_screening_detail?screening_id="+t).then(function(t){if(t.code)e.edit_symptom_list=[],e.red_question=null,e.yellow_question=null,e.green_question=null,e.white_question=null,e.black_question=null,e.recommend_command=null;else{e.red_question=t.data.red_question,e.yellow_question=t.data.yellow_question,e.green_question=t.data.green_question,e.white_question=t.data.white_question,e.black_question=t.data.black_question,e.recommend_command=t.data.recommend_command;var s=t.data.minor.map(function(t){var s="";switch(t.screening_lv){case 1:s=e.$t("red");break;case 2:s=e.$t("yellow");break;case 3:s=e.$t("green");break;case 4:s=e.$t("white");break;case 5:s=e.$t("black");break;default:s=""}return{value:t.screening_lv+":"+t.screening_no,label:s+t.screening_no+t.symptom}});0==s.length&&(e.edit_symptom=null,e.edit_other_symptom=null),e.edit_symptom_list=s}})}}},r=l,o=(s("c4ba"),s("2877")),_=Object(o["a"])(r,i,a,!1,null,null,null);e["default"]=_.exports},"70a7":function(t,e,s){},c4ba:function(t,e,s){"use strict";var i=s("70a7"),a=s.n(i);a.a}}]);
//# sourceMappingURL=chunk-803220a8.298ee546.js.map