(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef06b1be"],{"004f":function(t,a,e){"use strict";var n=e("3b0b"),s=e.n(n);s.a},1936:function(t,a,e){},"2bf8":function(t,a,e){"use strict";var n=e("b81a"),s=e.n(n);s.a},"3b0b":function(t,a,e){},"6784b":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return t.renderComponent?n("div",{staticClass:"vx-col w-full mb-base"},[n("edit-pharmacy",{attrs:{isSidebarActive:t.addNewDataSidebar,newPharmacy:t.pharmacy},on:{closeSidebar:function(a){t.addNewDataSidebar=!1}}}),n("vx-card",[n("vs-tabs",[n("vs-tab",{attrs:{label:t.$t("pharmacy_data")}},[n("div",{staticClass:"mt-3"},[n("vs-table",{attrs:{pagination:"","max-items":"10",search:"",data:t.pharmcies},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.data;return t._l(e,function(a,e){return n("vs-tr",{key:e},[n("vs-td",{staticStyle:{width:"100px"},attrs:{data:a.pharmacy_id}},[t._v("\n                        "+t._s(a.pharmacy_id)+"\n                      ")]),n("vs-td",{attrs:{data:a.name}},[t._v("\n                        "+t._s(a.name)+"\n                      ")]),n("vs-td",{attrs:{data:a.location_name,width:"300px"}},[t._v("\n                        "+t._s(a.location_name)+"\n                      ")]),n("vs-td",{attrs:{data:a.medicine}},[t._v("\n                        "+t._s(a.medicine)+"\n                      ")]),n("vs-td",{attrs:{data:a.contact_tel}},[t._v("\n                        "+t._s(a.contact_tel)+"\n                      ")]),n("vs-td",[n("feather-icon",{staticClass:"cursor-pointer w-6 h-6",attrs:{icon:"SearchIcon",size:"small"}})],1),n("vs-td",[n("feather-icon",{staticClass:"cursor-pointer w-6 h-6",attrs:{icon:"EditIcon",size:"small"},on:{click:function(e){t.pharmacy=a,t.addNewDataSidebar=!0}}})],1),n("vs-td",[n("feather-icon",{staticClass:"cursor-pointer w-6 h-6",attrs:{icon:"Trash2Icon",size:"small"},on:{click:function(e){return t.delete_pharmacy(a)}}})],1)],1)})}}],null,!1,2447160376)},[n("template",{slot:"thead"},[n("vs-th",{attrs:{"sort-key":"pharmacy_id"}},[t._v(t._s(t.$t("id")))]),n("vs-th",{attrs:{"sort-key":"name"}},[t._v(t._s(t.$t("name")))]),n("vs-th",{attrs:{"sort-key":"location_name"}},[t._v(t._s(t.$t("location_name")))]),n("vs-th",{attrs:{"sort-key":"medicine"}},[t._v(t._s(t.$t("medicine")))]),n("vs-th",{attrs:{"sort-key":"contact_tel"}},[t._v(t._s(t.$t("contact_no")))]),n("vs-th",[t._v(t._s(t.$t("view")))]),n("vs-th",[t._v(t._s(t.$t("edit")))]),n("vs-th",[t._v(t._s(t.$t("delete")))])],1)],2)],1)]),n("vs-tab",{attrs:{label:t.$t("pharmacy_register")}},[n("div",{staticClass:"mt-3"},[n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("pharmacy_name"))+" "),n("span",{staticClass:"require"},[t._v("*")])]),n("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.name},model:{value:t.newPharmacy.name,callback:function(a){t.$set(t.newPharmacy,"name",a)},expression:"newPharmacy.name"}}),t.invalid.name?n("div",{staticClass:"error"},[t._v(t._s(t.$t("pharmacy_name_alert")))]):t._e()],1),n("div",{staticClass:"vx-col md:w-1/4 mt-5"},[n("label",[t._v(t._s(t.$t("contact_name"))+" ")]),n("vs-input",{staticClass:"w-full",model:{value:t.newPharmacy.contact_name,callback:function(a){t.$set(t.newPharmacy,"contact_name",a)},expression:"newPharmacy.contact_name"}})],1),n("div",{staticClass:"vx-col md:w-1/4 mt-5"},[n("label",[t._v(t._s(t.$t("contact_no"))+" ")]),n("vs-input",{staticClass:"w-full",model:{value:t.newPharmacy.contact_tel,callback:function(a){t.$set(t.newPharmacy,"contact_tel",a)},expression:"newPharmacy.contact_tel"}})],1)]),n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/3 w-full mt-5"},[n("label",[t._v(t._s(t.$t("address")))]),n("vs-input",{staticClass:"w-full",model:{value:t.newPharmacy.address,callback:function(a){t.$set(t.newPharmacy,"address",a)},expression:"newPharmacy.address"}})],1),n("div",{staticClass:"vx-col md:w-1/6 w-full mt-5"},[n("label",[t._v(t._s(t.$t("province")))]),n("vs-select",{staticClass:"w-full",attrs:{autocomplete:""},model:{value:t.newPharmacy.province,callback:function(a){t.$set(t.newPharmacy,"province",a)},expression:"newPharmacy.province"}},t._l(t.province_view,function(t,a){return n("vs-select-item",{key:a,attrs:{value:t.value,text:t.text}})}),1)],1),n("div",{staticClass:"vx-col md:w-1/6 w-full mt-5"},[n("label",[t._v(t._s(t.$t("amphur")))]),n("vs-select",{staticClass:"w-full",attrs:{autocomplete:""},model:{value:t.newPharmacy.amphur,callback:function(a){t.$set(t.newPharmacy,"amphur",a)},expression:"newPharmacy.amphur"}},t._l(t.amphurs,function(t,a){return n("vs-select-item",{key:a,attrs:{value:t.value,text:t.text}})}),1)],1),n("div",{staticClass:"vx-col md:w-1/6 w-full mt-5"},[n("label",[t._v(t._s(t.$t("tambon")))]),n("vs-select",{staticClass:"w-full",attrs:{autocomplete:""},model:{value:t.newPharmacy.tambon,callback:function(a){t.$set(t.newPharmacy,"tambon",a)},expression:"newPharmacy.tambon"}},t._l(t.tambon_view,function(t,a){return n("vs-select-item",{key:a,attrs:{value:t.value,text:t.text}})}),1)],1),n("div",{staticClass:"vx-col md:w-1/6 w-full mt-5"},[n("label",[t._v(t._s(t.$t("postcode")))]),n("vs-select",{staticClass:"w-full",attrs:{autocomplete:""},model:{value:t.newPharmacy.postcode,callback:function(a){t.$set(t.newPharmacy,"postcode",a)},expression:"newPharmacy.postcode"}},t._l(t.postcodes,function(t,a){return n("vs-select-item",{key:a,attrs:{value:t,text:t}})}),1)],1)]),n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("medicine")))]),n("vs-textarea",{staticClass:"w-full",model:{value:t.newPharmacy.medicine,callback:function(a){t.$set(t.newPharmacy,"medicine",a)},expression:"newPharmacy.medicine"}})],1),n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("medical_supply"))+" ")]),n("vs-textarea",{staticClass:"w-full",model:{value:t.newPharmacy.medical_supply,callback:function(a){t.$set(t.newPharmacy,"medical_supply",a)},expression:"newPharmacy.medical_supply"}})],1)]),n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("medical_equipment"))+" ")]),n("vs-textarea",{staticClass:"w-full",model:{value:t.newPharmacy.medical_equipment,callback:function(a){t.$set(t.newPharmacy,"medical_equipment",a)},expression:"newPharmacy.medical_equipment"}})],1),n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("disaster_equipment"))+" ")]),n("vs-textarea",{staticClass:"w-full",model:{value:t.newPharmacy.disaster_equipment,callback:function(a){t.$set(t.newPharmacy,"disaster_equipment",a)},expression:"newPharmacy.disaster_equipment"}})],1)]),n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("remark")))]),n("vs-input",{staticClass:"w-full",model:{value:t.newPharmacy.remark,callback:function(a){t.$set(t.newPharmacy,"remark",a)},expression:"newPharmacy.remark"}})],1),n("div",{staticClass:"vx-col md:w-1/4 mt-5"},[n("label",[t._v(t._s(t.$t("lat")))]),n("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:t.newPharmacy.lat,callback:function(a){t.$set(t.newPharmacy,"lat",a)},expression:"newPharmacy.lat"}})],1),n("div",{staticClass:"vx-col md:w-1/4 mt-5"},[n("label",[t._v(t._s(t.$t("lon")))]),n("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:t.newPharmacy.lon,callback:function(a){t.$set(t.newPharmacy,"lon",a)},expression:"newPharmacy.lon"}})],1)])]),n("div",{staticClass:"mt-3"},[n("div",{staticClass:"vx-row",staticStyle:{"margin-top":"20px"}},[n("vl-map",{staticStyle:{height:"400px"},attrs:{"load-tiles-while-animating":!0,"load-tiles-while-interacting":!0},on:{click:function(a){return t.myfunc(a)}}},[n("vl-view",{attrs:{zoom:t.zoom,center:t.center,rotation:t.rotation},on:{"update:zoom":function(a){t.zoom=a},"update:center":function(a){t.center=a},"update:rotation":function(a){t.rotation=a}}}),n("vl-layer-tile",{attrs:{id:"osm"}},[n("vl-source-osm")],1),t.isSelectCoordinate?n("vl-overlay",{attrs:{id:"overlay",position:t.overlayCoordinate},scopedSlots:t._u([{key:"default",fn:function(a){return[n("div",{staticClass:"overlay-content"},[t._e(),n("img",{staticStyle:{width:"50px",height:"50px","margin-top":"-50px","margin-left":"-25px"},attrs:{src:e("3b84"),alt:"content-img"}})])]}}],null,!1,4127816944)}):t._e()],1)],1)]),n("div",{staticClass:"mt-3"},[n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col w-full mt-5"},[n("vs-button",{attrs:{color:"danger",type:"border"}},[t._v(t._s(t.$t("cancel")))]),n("vs-button",{ref:"loadableButton",staticClass:"vs-con-loading__container",attrs:{id:"button-with-loading",vslor:"primary"},on:{click:t.save}},[t._v(t._s(t.$t("save")))])],1)])])])],1)],1)],1):t._e()},s=[],i=(e("a481"),e("7f7f"),e("a322")),c=e("fa33"),o=e("67cf"),r=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(a){t.isSidebarActiveLocal=a},expression:"isSidebarActiveLocal"}},[n("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[n("h4",[t._v(t._s(t.$t("edit_data")))]),n("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(a){a.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),n("vs-divider",{staticClass:"mb-0"}),n("VuePerfectScrollbar",{staticClass:"scroll-area--data-list-add-new pt-4 pb-6",attrs:{settings:t.settings}},[n("div",{staticClass:"vx-col w-full mb-base",staticStyle:{padding:"20px"}},[n("div",{staticClass:"mt-3"},[n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("pharmacy_name"))+" "),n("span",{staticClass:"require"},[t._v("*")])]),n("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.name},model:{value:t.newPharmacy.name,callback:function(a){t.$set(t.newPharmacy,"name",a)},expression:"newPharmacy.name"}}),t.invalid.name?n("div",{staticClass:"error"},[t._v(t._s(t.$t("pharmacy_name_alert")))]):t._e()],1),n("div",{staticClass:"vx-col md:w-1/4 mt-5"},[n("label",[t._v(t._s(t.$t("contact_name"))+" ")]),n("vs-input",{staticClass:"w-full",model:{value:t.newPharmacy.contact_name,callback:function(a){t.$set(t.newPharmacy,"contact_name",a)},expression:"newPharmacy.contact_name"}})],1),n("div",{staticClass:"vx-col md:w-1/4 mt-5"},[n("label",[t._v(t._s(t.$t("contact_no"))+" ")]),n("vs-input",{staticClass:"w-full",model:{value:t.newPharmacy.contact_tel,callback:function(a){t.$set(t.newPharmacy,"contact_tel",a)},expression:"newPharmacy.contact_tel"}})],1)]),n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/3 w-full mt-5"},[n("label",[t._v(t._s(t.$t("address")))]),n("vs-input",{staticClass:"w-full",model:{value:t.newPharmacy.address,callback:function(a){t.$set(t.newPharmacy,"address",a)},expression:"newPharmacy.address"}})],1),n("div",{staticClass:"vx-col md:w-1/6 w-full mt-5"},[n("label",[t._v(t._s(t.$t("province")))]),n("vs-select",{staticClass:"w-full",attrs:{autocomplete:""},model:{value:t.newPharmacy.province,callback:function(a){t.$set(t.newPharmacy,"province",a)},expression:"newPharmacy.province"}},t._l(t.province_view,function(t,a){return n("vs-select-item",{key:a,attrs:{value:t.value,text:t.text}})}),1)],1),n("div",{staticClass:"vx-col md:w-1/6 w-full mt-5"},[n("label",[t._v(t._s(t.$t("amphur")))]),n("vs-select",{staticClass:"w-full",attrs:{autocomplete:""},model:{value:t.newPharmacy.amphur,callback:function(a){t.$set(t.newPharmacy,"amphur",a)},expression:"newPharmacy.amphur"}},t._l(t.amphurs,function(t,a){return n("vs-select-item",{key:a,attrs:{value:t.value,text:t.text}})}),1)],1),n("div",{staticClass:"vx-col md:w-1/6 w-full mt-5"},[n("label",[t._v(t._s(t.$t("tambon")))]),n("vs-select",{staticClass:"w-full",attrs:{autocomplete:""},model:{value:t.newPharmacy.tambon,callback:function(a){t.$set(t.newPharmacy,"tambon",a)},expression:"newPharmacy.tambon"}},t._l(t.tambon_view,function(t,a){return n("vs-select-item",{key:a,attrs:{value:t.value,text:t.text}})}),1)],1),n("div",{staticClass:"vx-col md:w-1/6 w-full mt-5"},[n("label",[t._v(t._s(t.$t("postcode")))]),n("vs-select",{staticClass:"w-full",attrs:{autocomplete:""},model:{value:t.newPharmacy.postcode,callback:function(a){t.$set(t.newPharmacy,"postcode",a)},expression:"newPharmacy.postcode"}},t._l(t.postcodes,function(t,a){return n("vs-select-item",{key:a,attrs:{value:t,text:t}})}),1)],1)]),n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("medicine")))]),n("vs-textarea",{staticClass:"w-full",model:{value:t.newPharmacy.medicine,callback:function(a){t.$set(t.newPharmacy,"medicine",a)},expression:"newPharmacy.medicine"}})],1),n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("medical_supply"))+" ")]),n("vs-textarea",{staticClass:"w-full",model:{value:t.newPharmacy.medical_supply,callback:function(a){t.$set(t.newPharmacy,"medical_supply",a)},expression:"newPharmacy.medical_supply"}})],1)]),n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("medical_equipment"))+" ")]),n("vs-textarea",{staticClass:"w-full",model:{value:t.newPharmacy.medical_equipment,callback:function(a){t.$set(t.newPharmacy,"medical_equipment",a)},expression:"newPharmacy.medical_equipment"}})],1),n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("disaster_equipment"))+" ")]),n("vs-textarea",{staticClass:"w-full",model:{value:t.newPharmacy.disaster_equipment,callback:function(a){t.$set(t.newPharmacy,"disaster_equipment",a)},expression:"newPharmacy.disaster_equipment"}})],1)]),n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col md:w-1/2 mt-5"},[n("label",[t._v(t._s(t.$t("remark")))]),n("vs-input",{staticClass:"w-full",model:{value:t.newPharmacy.remark,callback:function(a){t.$set(t.newPharmacy,"remark",a)},expression:"newPharmacy.remark"}})],1),n("div",{staticClass:"vx-col md:w-1/4 mt-5"},[n("label",[t._v(t._s(t.$t("lat")))]),n("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:t.newPharmacy.lat,callback:function(a){t.$set(t.newPharmacy,"lat",a)},expression:"newPharmacy.lat"}})],1),n("div",{staticClass:"vx-col md:w-1/4 mt-5"},[n("label",[t._v(t._s(t.$t("lon")))]),n("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:t.newPharmacy.lon,callback:function(a){t.$set(t.newPharmacy,"lon",a)},expression:"newPharmacy.lon"}})],1)])]),n("div",{staticClass:"mt-3"},[t.renderComponent?n("div",{staticClass:"vx-row",staticStyle:{"margin-top":"20px"}},[n("vl-map",{staticStyle:{height:"400px"},attrs:{"load-tiles-while-animating":!0,"load-tiles-while-interacting":!0},on:{click:function(a){return t.myfunc(a)}}},[n("vl-view",{attrs:{zoom:t.zoom,center:t.center,rotation:t.rotation},on:{"update:zoom":function(a){t.zoom=a},"update:center":function(a){t.center=a},"update:rotation":function(a){t.rotation=a}}}),n("vl-layer-tile",{attrs:{id:"osm"}},[n("vl-source-osm")],1),t.isSelectCoordinate?n("vl-overlay",{attrs:{id:"overlay",position:t.overlayCoordinate},scopedSlots:t._u([{key:"default",fn:function(a){return[n("div",{staticClass:"overlay-content"},[t._e(),n("img",{staticStyle:{width:"50px",height:"50px","margin-top":"-50px","margin-left":"-25px"},attrs:{src:e("3b84"),alt:"content-img"}})])]}}],null,!1,4127816944)}):t._e()],1)],1):t._e()])])]),n("div",{staticClass:"flex flex-wrap p-6",attrs:{slot:"footer"},slot:"footer"},[n("vs-button",{ref:"loadableButton",staticClass:"vs-con-loading__container",attrs:{id:"button-with-loading",vslor:"primary"},on:{click:t.save}},[t._v("\n     "+t._s(t.$t("save"))+"\n     ")]),n("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(a){t.isSidebarActiveLocal=!1}}},[t._v("Cancel")])],1)],1)},l=[],m=e("9d63"),u=e.n(m),d=(e("5118"),{props:{isSidebarActive:{type:Boolean,required:!0},newPharmacy:{type:Object,required:!0}},data:function(){var t;return t={zoom:8,submitted:!1,center:[100.6037284,13.6768896],rotation:0,isSelectCoordinate:!1,overlayCoordinate:[],pharmcies:[],renderComponent:!0,addNewDataSidebar:!1},Object(i["a"])(t,"submitted",!1),Object(i["a"])(t,"locations",[]),Object(i["a"])(t,"tambons",[]),Object(i["a"])(t,"provinces",[]),Object(i["a"])(t,"addNewDataSidebar",!1),Object(i["a"])(t,"settings",{maxScrollbarLength:60,wheelSpeed:.6}),t},components:{Datepicker:c["a"],VuePerfectScrollbar:u.a},computed:{amphurs:function(){var t=this,a=this.locations.map(function(a){return"th"==t.$i18n.locale?JSON.stringify({value:a.en_amphur,text:a.th_amphur}):JSON.stringify({value:a.en_amphur,text:a.en_amphur})});return a.filter(function(t,a,e){return e.indexOf(t)==a}).map(function(t){return JSON.parse(t)})},province_view:function(){return"th"==this.$i18n.locale?this.provinces.map(function(t){return{value:t.en_province,text:t.th_province}}):this.provinces.map(function(t){return{value:t.en_province,text:t.en_province}})},tambon_view:function(){var t=this,a=this.tambons.map(function(a){return"th"==t.$i18n.locale?JSON.stringify({value:a.en_tambon,text:a.th_tambon}):JSON.stringify({value:a.en_tambon,text:a.en_tambon})});return a.filter(function(t,a,e){return e.indexOf(t)==a}).map(function(t){return JSON.parse(t)})},postcodes:function(){var t=this;return this.locations.filter(function(a){return a.en_amphur==t.newPharmacy.amphur&&a.en_tambon==t.newPharmacy.tambon}).map(function(t){return t.postcode})},now_province:function(){return this.newPharmacy.province},now_amphur:function(){return this.newPharmacy.amphur},invalid:function(){var t=this,a=function(a){return t.submitted&&""==t.newPharmacy[a]};return{name:a("name")}},isInvalid:function(){return this.invalid.name},isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||(this.$emit("closeSidebar"),this.initValues())}}},created:function(){var t=this;o["a"].getExternalData("get_province").then(function(a){console.log(a),a.code?t.$swal(a.message,"","error"):(t.provinces=JSON.parse(JSON.stringify(a.data).replace(/\:null/gi,':""')),console.log("province",t.provinces))},function(a){t.$swal("connection error","","error"),console.log(a)})},methods:{forceRerender:function(){var t=this;this.renderComponent=!1,this.$nextTick(function(){t.renderComponent=!0})},myfunc:function(t){console.log(t),this.overlayCoordinate=t.coordinate,this.newPharmacy.lon=this.overlayCoordinate[0],this.newPharmacy.lat=this.overlayCoordinate[1],this.isSelectCoordinate=!0},save:function(){var t=this;this.submitted=!0,this.isInvalid||(this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading",scale:.45}),o["a"].postData("update_pharmacy",this.newPharmacy).then(function(a){t.$vs.loading.close("#button-with-loading > .con-vs-loading"),a.code?(t.isSidebarActive=!1,t.$swal(a.message,"","error").then(function(a){t.isSidebarActive=!0})):(t.submitted=!1,t.isSidebarActiveLocal=!1,t.forceRerender())},function(a){t.isSidebarActive=!1,t.$vs.loading.close("#button-with-loading > .con-vs-loading"),t.$swal("connection error","","error").then(function(a){t.isSidebarActive=!0})}))}},watch:{isSidebarActive:function(t){t&&this.forceRerender()},now_province:function(t){var a=this;o["a"].getExternalData("/get_location?province="+t).then(function(t){t.code||(a.locations=t.data)},function(t){console.log(t)})},now_amphur:function(t){this.tambons=this.locations.filter(function(a){return a.en_amphur==t})}}}),v=d,h=(e("fd10"),e("004f"),e("2877")),p=Object(h["a"])(v,r,l,!1,null,"6eafd988",null),f=p.exports,w={components:{EditPharmacy:f,Datepicker:c["a"]},data:function(){var t;return t={zoom:8,submitted:!1,center:[100.6037284,13.6768896],rotation:0,isSelectCoordinate:!1,overlayCoordinate:[],pharmcies:[],renderComponent:!0,addNewDataSidebar:!1},Object(i["a"])(t,"submitted",!1),Object(i["a"])(t,"locations",[]),Object(i["a"])(t,"tambons",[]),Object(i["a"])(t,"provinces",[]),Object(i["a"])(t,"newPharmacy",{}),Object(i["a"])(t,"pharmacy",{}),Object(i["a"])(t,"tableList",["vs-th: Component","vs-tr: Component","vs-td: Component","thread: Slot","tbody: Slot","header: Slot"]),t},computed:{lang:function(){return this.$i18n.locale},amphurs:function(){var t=this,a=this.locations.map(function(a){return"th"==t.$i18n.locale?JSON.stringify({value:a.en_amphur,text:a.th_amphur}):JSON.stringify({value:a.en_amphur,text:a.en_amphur})});return a.filter(function(t,a,e){return e.indexOf(t)==a}).map(function(t){return JSON.parse(t)})},province_view:function(){return"th"==this.$i18n.locale?this.provinces.map(function(t){return{value:t.en_province,text:t.th_province}}):this.provinces.map(function(t){return{value:t.en_province,text:t.en_province}})},tambon_view:function(){var t=this,a=this.tambons.map(function(a){return"th"==t.$i18n.locale?JSON.stringify({value:a.en_tambon,text:a.th_tambon}):JSON.stringify({value:a.en_tambon,text:a.en_tambon})});return a.filter(function(t,a,e){return e.indexOf(t)==a}).map(function(t){return JSON.parse(t)})},postcodes:function(){var t=this;return this.locations.filter(function(a){return a.en_amphur==t.newPharmacy.amphur&&a.en_tambon==t.newPharmacy.tambon}).map(function(t){return t.postcode})},now_province:function(){return this.newPharmacy.province},now_amphur:function(){return this.newPharmacy.amphur},invalid:function(){var t=this,a=function(a){return t.submitted&&""==t.newPharmacy[a]};return{name:a("name")}},isInvalid:function(){return this.invalid.name},locale:function(){return this.$i18n.locale}},created:function(){var t=this;this.getData(),this.initValue(),o["a"].getExternalData("get_province").then(function(a){console.log(a),a.code?t.$swal(a.message,"","error"):(t.provinces=JSON.parse(JSON.stringify(a.data).replace(/\:null/gi,':""')),console.log("province",t.provinces))},function(a){t.$swal("connection error","","error"),console.log(a)})},methods:{initValue:function(){this.newPharmacy=JSON.parse('{"pharmacy_id":"","name":"","address":"","tambon":"","amphur":"","province":"","postcode":"","contact_name":"","contact_tel":"","medicine":"","medical_supply":"","medical_equipment":"","disaster_equipment":"","remark":"","lat":"","lon":""}')},myfunc:function(t){console.log(t),this.overlayCoordinate=t.coordinate,this.newPharmacy.lon=this.overlayCoordinate[0],this.newPharmacy.lat=this.overlayCoordinate[1],this.isSelectCoordinate=!0},getData:function(){var t=this;o["a"].getData("/get_pharmacy").then(function(a){console.log(a),a.code||(t.pharmcies=JSON.parse(JSON.stringify(a.data).replace(/\:null/gi,':""')),t.pharmcies.map(function(t){return t.location_name=t.address+" "+t.tambon+" "+t.amphur+" "+t.province+" "+t.postcode,t}))})},save:function(){var t=this;this.submitted=!0,this.isInvalid||(this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading",scale:.45}),o["a"].postData("add_pharmacy",this.newPharmacy).then(function(a){t.$vs.loading.close("#button-with-loading > .con-vs-loading"),a.code?t.$swal(a.message,"","error"):(t.submitted=!1,t.initValue(),t.getData(),t.forceRerender())},function(a){t.$vs.loading.close("#button-with-loading > .con-vs-loading"),t.$swal("connection error","","error")}))},delete_pharmacy:function(t){var a=this;this.$swal({title:this.$t("delete_pharmacy_title"),text:this.$t("delete_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return o["a"].deleteData("delete_pharmacy?pharmacy_id=".concat(t.pharmacy_id)).then(function(t){return t},function(t){return{code:!0,message:"connection error"}})}}).then(function(t){t.value&&(t.value.code?a.$swal(t.value.message,"","error"):a.$swal(a.$t("deleted"),"","success").then(function(t){a.getData()}))})},forceRerender:function(){var t=this;this.renderComponent=!1,this.$nextTick(function(){t.renderComponent=!0})}},watch:{addNewDataSidebar:function(t){0==t&&this.getData()},locale:function(t){this.forceRerender()},now_province:function(t){var a=this;o["a"].getExternalData("/get_location?province="+t).then(function(t){t.code||(a.locations=t.data)},function(t){console.log(t)})},now_amphur:function(t){this.tambons=this.locations.filter(function(a){return a.en_amphur==t})}}},_=w,y=(e("2bf8"),Object(h["a"])(_,n,s,!1,null,"23674194",null));a["default"]=y.exports},b81a:function(t,a,e){},fd10:function(t,a,e){"use strict";var n=e("1936"),s=e.n(n);s.a}}]);
//# sourceMappingURL=chunk-ef06b1be.68de43a3.js.map